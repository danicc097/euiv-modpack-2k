#
# remember to add graphics for relevant ones when you add to this
#
# if a modifier is scaled, its multiplied with development in the province.


#######################################
# Feudalism.  
# 
# Most in the old world start with it.
#######################################

feudalism = {
	bonus = {
		free_leader_pool = 1
	}
	trade_company_efficiency = 0.0

	history = {
		OR = {
			AND = {
				owner = {
					NOT = {
						has_reform = tribal_despotism
						has_reform = tribal_federation
						has_reform = steppe_horde
						has_reform = tribal_confederacy
						has_reform = nahuatl_monarchy_reform
						government = native
					}
				}
				is_year = 1000
			}
			is_year = 1150
		}
	}
	
	# no need for events, as its there from the start.
	#can_start = {	is_year = 1000	}
	#start_chance = 100
	#on_start = institution_events.1

	can_embrace = {
		always = yes
	}

	embracement_speed = {
		modifier = {
			factor = 0.5
			scale = yes
			custom_trigger_tooltip = {
				tooltip = FRIENDLY_NEIGHBOR_OR_COAST_PROVINCE_HAS_EMBRACED
				any_friendly_coast_border_province = {
					feudalism = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_NOT_OWNED_IS_FEUDAL
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					feudalism = 100
				}
			}
		}
		modifier = {
			factor = 0.15
			scale = yes
			force_potential = yes
			potential = {
				owner = { has_estate = estate_nobles }
			}
			custom_trigger_tooltip = {
				tooltip = FEUDALISM_AND_NOBLES
				any_neighbor_province = {
					feudalism = 100
				}
				owner = {
					has_estate = estate_nobles
					estate_loyalty = {
						estate = estate_nobles
						loyalty = 40
					}
					estate_territory = {
						estate = estate_nobles
						territory = 30
					}
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = PORT_OR_CAPITAL_IN_COLONY_FEUDAL
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = feudalism }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = feudalism
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_feudalism_embraced
				owner = {
					has_institution = feudalism
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Investiture
# 
#######################################

investiture = {

	bonus = {
		missionary_maintenance_cost = -0.05
	}

	trade_company_efficiency = 0.1
	historical_start_date = 1100.1.1
	historical_start_province = 2708 #Roma

	history = {
		OR = {
			AND = {
				is_year = 1100
				owner = { government = theocracy }
			}
			AND = {
				is_year = 1100
				religion = orthodox
				owner = {
					NOT = {
						has_reform = tribal_despotism
						has_reform = tribal_federation
						government = native
					}
				}
			}
			AND = {
				is_year = 1111
				is_part_of_hre = yes
			}
			AND = {
				is_year = 1122
				continent = europe
				religion_group = christian
				owner = {
					NOT = {
						has_reform = tribal_despotism
						has_reform = tribal_federation
						government = native
					}
				}
			}
			AND = {
				is_year = 1172
				religion_group = christian
			}
			AND = {
				is_year = 1200
				NOT = { religion_group = christian }
			}
		}
	}

	can_start = {
		is_year = 1100
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
		}
		religion = catholic
		owner = {
			government = theocracy
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.80
	
	can_embrace = {
		owner = { has_institution = feudalism }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_investiture
				any_friendly_coast_border_province = {
					investiture = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_investiture
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					investiture = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			force_potential = yes
			potential = {
				owner = { has_estate = estate_church }
			}
			custom_trigger_tooltip = {
				tooltip = INVESTITURE_AND_CHURCH
				any_neighbor_province = {
					investiture = 100
				}
				owner = {
					has_estate = estate_church
					estate_loyalty = {
						estate = estate_church
						loyalty = 40
					}
					estate_territory = {
						estate = estate_church
						territory = 30
					}
				}
			}
		}
		modifier = {
			factor = 2
			potential = {
				owner = {
					religion_group = christian
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_owner_orthodox
				owner = {
					OR = {
						religion = orthodox
						religion = paulician
					}
				}
			}
		}
		modifier = {
			factor = 4
			custom_trigger_tooltip = {
				tooltip = tooltip_owner_theocracy
				owner = { government = theocracy }
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_investiture
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = investiture }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = investiture
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_investiture_embraced
				owner = {
					has_institution = investiture
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Universities
# 
#######################################

universities = {

	bonus = {
		advisor_cost = -0.05
	}

	trade_company_efficiency = 0.2
	historical_start_date = 1200.1.1
	historical_start_province = 974 #Bologna

	history = {
		OR = {
			AND = {
				is_year = 1200
				owner = {
					NOT = {
						has_reform = tribal_despotism
						has_reform = tribal_federation
						government = native
					}
				}
			}
			is_year = 1248
		}
	}

	can_start = {
		is_year = 1200
		is_institution_enabled = investiture
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.74
	
	can_embrace = {
		owner = { has_institution = investiture }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_universities
				any_friendly_coast_border_province = {
					universities = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_universities
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					universities = 100
				}
			}
		}
		modifier = {
			factor = 1
			potential = {
				OR = {
					superregion = sicily_superregion
					superregion = italy_superregion
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_italian_capital
				is_capital = yes
				OR = {
					superregion = sicily_superregion
					superregion = italy_superregion
				}
				OR = {
					culture_group = latin
					culture_group = rhaetic
					culture = langobardic
				}
			}
			
			
		}
		modifier = {
			factor = 3
			custom_trigger_tooltip = {
				tooltip = tooltip_philosoper_capital
				is_capital = yes
				owner = {
					employed_advisor = {
						type = philosopher
					}
					adm_tech = 10
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_universities
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = universities }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = universities
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_universities_embraced
				owner = {
					has_institution = universities
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Guilds
# 
#######################################

guilds = {

	bonus = {
		trade_efficiency = 0.05
		trade_range_modifier = 0.1
	}

	trade_company_efficiency = 0.3
	historical_start_date = 1250.1.1
	historical_start_province = 13 #Lubeck

	history = {
		OR = {
			AND = {
				is_year = 1250
				continent = europe
			}
			is_year = 1400
		}
	}

	can_start = {
		is_year = 1250
		is_institution_enabled = universities
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			province_has_center_of_trade_of_level = 3
			province_has_center_of_trade_of_level = 2
		}
		OR = {
			province_trade_power = 10
			is_capital = yes
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.75
	
	can_embrace = {
		owner = { has_institution = universities }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_guilds
				any_friendly_coast_border_province = {
					guilds = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_guilds
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					guilds = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			force_potential = yes
			potential = {
				owner = { has_estate = estate_burghers }
			}
			custom_trigger_tooltip = {
				tooltip = GUILDS_AND_BURGHERS
				any_neighbor_province = {
					guilds = 100
				}
				owner = {
					has_estate = estate_burghers
					estate_loyalty = {
						estate = estate_burghers
						loyalty = 40
					}
					estate_territory = {
						estate = estate_burghers
						territory = 30
					}
				}
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_10
				continent = europe
				development = 10
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_20
				development = 20
				continent = europe
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_guilds
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = guilds }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = guilds
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_guilds_embraced
				owner = {
					has_institution = guilds
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Chivalry
# 
#######################################

chivalry = {

	bonus = {
		prestige_from_land = 0.1
	}

	trade_company_efficiency = 0.4
	historical_start_date = 1300.1.1
	historical_start_province = 1172 #Rouen

	history = {
		OR = {
			AND = {
				is_year = 1300
				continent = europe
			}
			is_year = 1550
		}
	}

	can_start = {
		is_year = 1300
		is_institution_enabled = guilds
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.76
	
	can_embrace = {
		owner = { has_institution = guilds }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_chivalry
				any_friendly_coast_border_province = {
					chivalry = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_chivalry
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					chivalry = 100
				}
			}
		}
		modifier = {
			factor = 1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_french_english
				owner = {
					OR = {
						has_reform = english_monarchy
						has_reform = feudal_france_reform
					}
				}
			}
		}
		modifier = {
			factor = 0.2
			custom_trigger_tooltip = {
				tooltip = tooltip_great_power_nw
				owner = {
					is_great_power = yes
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_chivalry
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = chivalry }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = chivalry
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_chivalry_embraced
				owner = {
					has_institution = chivalry
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Public Health
# 
# Versus the Black Death
#######################################

publichealth = {

	bonus = {
		state_maintenance_modifier = -0.05
		land_forcelimit_modifier = 0.05
	}

	trade_company_efficiency = 0.5
	historical_start_date = 1350.1.1
	historical_start_province = 1818 #Milan

	history = {
		OR = {
			AND = {
				region = lombardy_region
				is_year = 1350
			}
			AND = {
				is_year = 1350
				superregion = poland_superregion
			}
			AND = {
				is_year = 1360
				continent = europe
			}
			is_year = 1550
		}
	}

	can_start = {
		is_year = 1345
		is_institution_enabled = chivalry
		OR = {
			superregion = poland_superregion
			superregion = italy_superregion
		}
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
			province_has_center_of_trade_of_level = 1
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.77
	
	can_embrace = {
		owner = { has_institution = chivalry }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_publichealth
				any_friendly_coast_border_province = {
					publichealth = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_publichealth
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					publichealth = 100
				}
			}
		}
		modifier = {
			factor = 3
			custom_trigger_tooltip = {
				tooltip = tooltip_scientist_capital_early
				is_capital = yes
				owner = {
					employed_advisor = {
						type = natural_scientist
					}
					adm_tech = 28
				}
			}
		}
		modifier = {
			factor = 1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_black_death
				owner = {
					has_disaster = black_death
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_publichealth
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = publichealth }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = publichealth
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_publichealth_embraced
				owner = {
					has_institution = publichealth
				}
			}
		}
	}

	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Popular Theology
# 
#######################################

laytheology = {

	bonus = {
		tolerance_own = 1
	}

	trade_company_efficiency = 0.6
	historical_start_date = 1400.1.1
	historical_start_province = 781 #Prague

	history = {
		OR = {
			AND = {
				is_year = 1400
				continent = europe
			}
			is_year = 1620
		}
	}

	can_start = {
		is_year = 1400
		is_institution_enabled = publichealth
		superregion = bohemia_superregion
		custom_trigger_tooltip = {
			tooltip = laytheo.tt
			OR = {
				NOT = {
					any_province = {
						religion_group = christian
						superregion = bohemia_superregion
					}
				}
				can_have_center_of_reformation_trigger = {
					RELIGION = hussite
				}
			}
		}
		# OR = {
		# 	development = 15
		# 	is_capital = yes
		# }
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.78
	
	can_embrace = {
		owner = { has_institution = publichealth }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_laytheology
				any_friendly_coast_border_province = {
					laytheology = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_laytheology
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					laytheology = 100
				}
			}
		}
		modifier = {
			factor = 2
			potential = {
				owner = {
					religion_group = christian
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_owner_heretic
				owner = {
					OR = {
						religion = cathar
						religion = waldensian
						religion = bogomilist
						religion = fraticelli
						religion = lollardy
						religion = hussite
					}
				}
			}
		}
		modifier = {
			factor = 3
			custom_trigger_tooltip = {
				tooltip = tooltip_theologian_capital
				is_capital = yes
				owner = {
					employed_advisor = {
						type = theologian
					}
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_laytheology
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = laytheology }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = laytheology
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_laytheology_embraced
				owner = {
					has_institution = laytheology
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Renaissance
# 
# Flows from italy
#######################################

renaissance = {

	bonus = {
		development_cost = -0.05
		build_cost = -0.05
	}

	trade_company_efficiency = 0.7
	historical_start_date = 1450.1.1
	historical_start_province = 640 # Florence

	history = {
		OR = {
			AND = {
				is_year = 1450
				continent = europe
			}
			is_year = 1780
		}
	}
	
	can_start = {
		is_year = 1450
		is_institution_enabled = laytheology
		OR = {
			superregion = sicily_superregion
			superregion = italy_superregion
		}
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 20
			is_capital = yes
			normal_or_historical_nations = no
			is_year = 1475
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.2
	
	can_embrace = {
		owner = { has_institution = laytheology }
	}
	
	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_renaissance
				any_friendly_coast_border_province = {
					renaissance = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_renaissance
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					renaissance = 100
				}
			}
		}
		modifier = {
			factor = 1
			potential = {
				OR = {
					superregion = sicily_superregion
					superregion = italy_superregion
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_italian_capital
				is_capital = yes
				OR = {
					superregion = sicily_superregion
					superregion = italy_superregion
				}
				OR = {
					culture_group = latin
					culture_group = rhaetic
					culture = langobardic
				}
			}
			
			
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_10
				continent = europe
				development = 10
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_20
				development = 20
				continent = europe
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_5_post_1500
				continent = europe
				is_year = 1500
				development = 5
			}
		}
		modifier = {
			factor = 0.5
			scale = yes
			potential = {
				OR = {
					area = flanders_area
					region = tuscany_region
					region = treviso_region
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_flanders_tuscany_venetia
				OR = {
					area = flanders_area
					region = tuscany_region
					region = treviso_region
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_renaissance
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = renaissance }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = renaissance
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_renaissance_embraced
				owner = {
					has_institution = renaissance
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}


#######################################
# New World
# 
# Colonising is good.. mkay.-.
#######################################
new_world_i = {

	bonus = {
		global_prov_trade_power_modifier = 0.10
	}

	trade_company_efficiency = 0.8
	historical_start_date = 1500.1.1
	historical_start_province = 1135 #Lisbon

	history = {
		OR = {
			AND = {
				is_year = 1500
				continent = europe
				OR = {
					owner = { has_idea = quest_for_the_new_world }
					owner = { has_idea = pir_i2 }
					owner = { colony = 1 }
				}
			}
			AND = {
				is_year = 1600
				continent = europe
			}
			is_year = 1700
		}
	}
	
	can_start = {
		is_year = 1490
		is_institution_enabled = renaissance
		has_port = yes
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			province_has_center_of_trade_of_level = 1
			development = 12
			is_capital = yes
		}
		OR = {
			has_any_exploration_idea = yes
			owner = { has_idea = pir_i2 }
			superregion = iberia_superregion
		}

	}
	start_chance = 5		#in 100 for when a province can_start
	
	
	on_start = institution_events.3
	
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
	
		modifier = {
			factor = 1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_colonialism
				any_friendly_coast_border_province = {
					new_world_i = 100
				}
			}
			
		}
		
		modifier = {
			factor = 0.5
			scale = yes
			potential = {
				has_port = yes
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_neighbor_port_province_new_world
				has_port = yes
				any_neighbor_province = {
					new_world_i = 100
				}
			}
		}

		#Port provinces in countries with colonial subjects
		modifier = {
			factor = 10
			potential = {
				OR = {
					has_port = yes
					is_capital = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_has_colonial_subject_in_new_world
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					colony = 1
					any_subject_country = {
						is_colonial_nation = yes
					}
				}
			}
		}
		
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_new_world_i
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = new_world_i }
				}
			}
		}

		modifier = {
			factor = 0.2
			custom_trigger_tooltip = {
				tooltip = tooltip_great_power_nw
				owner = {
					is_great_power = yes
				}
			}
		}
		
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = new_world_i
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_new_world_i_embraced
				owner = {
					has_institution = new_world_i
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}



#######################################
# Printing Press
#######################################
printing_press = {

	bonus = {
		stability_cost_modifier = -0.05
	}

	trade_company_efficiency = 1.0
	historical_start_date = 1550.1.1
	historical_start_province = 1943 #Frankfurt

	history = {
		OR = {
			AND = {
				is_year = 1560
				OR = {
					religion = protestant
					religion = reformed
					religion = anabaptist
					religion = anglican
					superregion = sicily_superregion
					superregion = italy_superregion
					superregion = french_superregion
					superregion = burgundian_superregion
				}
			}
			AND = {
				is_year = 1575
				continent = europe
				development = 15
			}
			AND = {
				is_year = 1600
				continent = europe
			}
		}
	}
	
	can_start = {
		is_year = 1550
		is_institution_enabled = new_world_i
		is_in_capital_area = yes
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
			trade_goods = paper
		}
		OR = {
			religion = protestant
			religion = reformed
			religion = anabaptist
			religion = anglican
			superregion = austria_superregion
			superregion = switzerland_superregion
			superregion = bohemia_superregion
			superregion = germanynorth_superregion
			superregion = germanysouth_superregion
		}

	}
	start_chance = 5		#in 100 for when a province can_start
	
	
	on_start = institution_events.4
	
	
	can_embrace = {
		always = yes
	}

	
	embracement_speed = {
	
		modifier = {
			factor = 0.5
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_printing_press
				any_friendly_coast_border_province = {
					printing_press = 100
				}
			}
		}
		
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_printing_press
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					printing_press = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			force_potential = yes
			potential = {
				owner = { has_estate = estate_church }
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_printing_press_clergy
				any_neighbor_province = {
					printing_press = 100
				}
				owner = {
					has_estate = estate_church
					estate_loyalty = {
						estate = estate_church
						loyalty = 40
					}
					estate_territory = {
						estate = estate_church
						territory = 30
					}
				}
			}
		}
		modifier = {
			factor = 0.75
			custom_trigger_tooltip = {
				tooltip = tooltip_dip_tech15_capital
				is_capital = yes
				owner = {
					dip_tech = 50
				}
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_20_capital
				development = 20
				is_capital = yes
				continent = europe
			}
		}
		modifier = {
			factor = 2
			potential = {
				owner = {
					religion_group = christian
				}
			}
			if = {
				limit = { has_dlc = "Rule Britannia" }
				custom_trigger_tooltip = {
					tooltip = tooltip_owner_protestant
					owner = {
						OR = {
							religion = protestant
							religion = reformed
							religion = anglican
							religion = anabaptist
						}
					}
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = tooltip_owner_protestant
					owner = {
						OR = {
							religion = protestant
							religion = reformed
							religion = anglican
							religion = anabaptist
						}
					}
				}
			}
		}
		modifier = {
			factor = 1
			if = {
				limit = {
					has_dlc = "Rule Britannia"
				}
				custom_trigger_tooltip = {
					tooltip = tooltip_province_protestant_RB
					OR = {
						religion = reformed
						religion = protestant
						religion = anglican
						religion = anabaptist
					}
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = tooltip_province_protestant
					OR = {
						religion = reformed
						religion = protestant
						religion = anglican
						religion = anabaptist
					}
				}
			}
		}
		modifier = {
			factor = 3
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_printing_press
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = printing_press }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = printing_press
				}
				continent = owner
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_printing_press_embraced
				owner = {
					has_institution = printing_press
				}
			}
		}
		modifier = {
			factor = 1
			scale = yes
			potential = {
				owner = {
					has_institution = printing_press
				}
				NOT = { continent = owner }
			}
			
			custom_trigger_tooltip = {
				tooltip = tooltip_printing_press_embraced
				is_owned_by_trade_company = no
				owner = {
					has_institution = printing_press
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}





#######################################
# Global Trade
#######################################
global_trade = {

	bonus = {
		merchants = 1
	}

	trade_company_efficiency = 1.2
	historical_start_date = 1600.1.1
	historical_start_province = 328 #Holland

	history = {
		OR = {
			AND = {
				is_year = 1620
				owner = { technology_group = western }
			}
			AND = {
				is_year = 1660
				continent = europe
			}
			AND = {
				is_year = 1700
				is_capital = no
			}
		}
	}
	
	can_start = {
		is_year = 1600
		is_institution_enabled = printing_press
		OR = {
			is_island = no
			province_id = 112
		}
		highest_value_trade_node = yes
		OR = {
			province_has_center_of_trade_of_level = 3
			province_has_center_of_trade_of_level = 2
			is_capital = yes
			AND = {
				is_year = 1630 #fallback
				province_has_center_of_trade_of_level = 1
			}
		}
		owner = {
			any_active_trade_node = {
				is_strongest_trade_power = PREV
				highest_value_trade_node = yes
			}
		}

	}
	start_chance = 25		#in 100 for when a province can_start
	
	
	on_start = institution_events.5
	
	
	can_embrace = {
		always = yes
	}

	
	embracement_speed = {
	
		modifier = {
			factor = 0.4 #Not scaled
			province_trade_power = 15
		}
		modifier = {
			factor = 0.8 #Not Scaled
			province_trade_power = 25
		}
		modifier = {
			factor = 1.2 #Not Scaled
			province_trade_power = 35
		}
		modifier = {
			factor = 1.6 #Not Scaled
			province_trade_power = 45
		}
		modifier = {
			factor = 0.4
			scale = yes
			potential = {
				OR = {
					province_has_center_of_trade_of_level = 1
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_center_of_trade_spread
				OR = {
					province_has_center_of_trade_of_level = 3
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			potential = {
				OR = {
					province_has_center_of_trade_of_level = 1
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_center_of_trade_spread
				OR = {
					province_has_center_of_trade_of_level = 2
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			force_potential = yes
			potential = {
				owner = { has_estate = estate_burghers }
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_burghers
				any_neighbor_province = {
					global_trade = 100
				}
				owner = {
					has_estate = estate_burghers
					estate_loyalty = {
						estate = estate_burghers
						loyalty = 40
					}
					estate_territory = {
						estate = estate_burghers
						territory = 30
					}
				}
			}
		}

		modifier = {
			factor = 0.25
			scale = yes
			potential = {
				has_port = no
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_neighbor_non_port_province_global_trade
				has_port = no
				any_neighbor_province = {
					global_trade = 100
					
				}
			}
		}
		
		modifier = {
			factor = 0.5
			scale = yes
			potential = {
				has_port = yes
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_neighbor_port_province_global_trade
				has_port = yes
				any_neighbor_province = {
					global_trade = 100
					
				}
			}
		}

		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_global_trade
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = global_trade }
				}
			}
		}
		
		modifier = {
			factor = 0.5
			printing_press = 100
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = global_trade
				}
				continent = owner
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_embraced
				owner = {
					has_institution = global_trade
				}
			}
		}
		modifier = {
			factor = 1
			scale = yes
			potential = {
				owner = {
					has_institution = global_trade
				}
				NOT = { continent = owner }
			}
			
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_embraced_other_continent
				is_owned_by_trade_company = no
				owner = {
					has_institution = global_trade
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}


#######################################
# Manufactories
#######################################
manufactories = {

	bonus = {
		global_trade_goods_size_modifier = 0.1
	}

	trade_company_efficiency = 1.4
	historical_start_date = 1650.1.1
	historical_start_province = 548 #Paris

	history = {
		OR = {
			AND = {
				is_year = 1680
				continent = europe
				owner = { technology_group = western }
			}
			AND = {
				is_year = 1720
				continent = europe
			}
			is_year = 1750
		}
	}
	
	can_start = {
		is_year = 1650
		is_institution_enabled = global_trade
		is_in_capital_area = yes
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		development = 20
		printing_press = 100
		global_trade = 100
		custom_trigger_tooltip = {
			tooltip = two_neighbor_dev_15_provinces
			calc_true_if = {
				amount = 2
				all_neighbor_province = {
					development = 15
				}
			}
		}
		OR = {
			has_building = wharf
			has_building = weapons
			has_building = textile
			has_building = plantations
			has_building = tradecompany
			has_building = mills
		}
	}
	start_chance = 10		#in 100 for when a province can_start
	
	
	on_start = institution_events.6
	
	
	can_embrace = {
		always = yes
	}

	
	embracement_speed = {
		modifier = {
			factor = 0.5
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_manufactories
				any_friendly_coast_border_province = {
					manufactories = 100
				}
			}
		}
		modifier = {
			factor = 0.15
			scale = yes
			
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_manufactories
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					manufactories = 100
				}
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = fish
					trade_goods = whales
					trade_goods = crabs
					trade_goods = naval_supplies
					trade_goods = salt
					trade_goods = tar
					trade_goods = pearls
					trade_goods = wax
					trade_goods = slaves
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_wharf_on_institution_continent
				has_building = wharf
			}
		}
		modifier = {
			factor = 1
			scale = yes
			potential = {
				OR = {
					trade_goods = iron
					trade_goods = copper
					trade_goods = plumbum
					trade_goods = munitions
					trade_goods = minerals
					trade_goods = zinc
					trade_goods = tin
					trade_goods = gold
					trade_goods = mercury
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_weapons_on_institution_continent
				has_building = weapons
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = silk
					trade_goods = cloth
					trade_goods = carpet
					trade_goods = wool
					trade_goods = dyes
					trade_goods = hemp
					trade_goods = leather
					trade_goods = paper
					trade_goods = cotton
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_textile_on_institution_continent
				has_building = textile
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = sugar
					trade_goods = tobacco
					trade_goods = vegetables
					trade_goods = coffee
					trade_goods = tea
					trade_goods = dates
					trade_goods = peaches	
					trade_goods = bananas
					trade_goods = olive
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_plantations_on_institution_continent
				has_building = plantations
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = gems
					trade_goods = glass
					trade_goods = chinaware
					trade_goods = marble
					trade_goods = pepper
					trade_goods = spices
					trade_goods = incense
					trade_goods = ivory
					trade_goods = fur
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_tradecompany_on_institution_continent
				has_building = tradecompany
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = horses
					trade_goods = livestock
					trade_goods = pigs
					trade_goods = venison
					trade_goods = camels
					trade_goods = honey
					trade_goods = cheese
					trade_goods = oil
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_farm_estate_on_institution_continent
				has_building = farm_estate
			}
		}
		modifier = {
			factor = 0.8
			scale = yes
			potential = {
				OR = {
					trade_goods = grain
					trade_goods = barley
					trade_goods = rye
					trade_goods = rice
					trade_goods = corn
					trade_goods = lumber
					trade_goods = wine
					trade_goods = beer
					trade_goods = spirits
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_mills_on_institution_continent
				has_building = mills
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = fish
					trade_goods = whales
					trade_goods = crabs
					trade_goods = naval_supplies
					trade_goods = salt
					trade_goods = tar
					trade_goods = pearls
					trade_goods = wax
					trade_goods = slaves
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_wharf_not_institution_continent
				has_building = wharf
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = iron
					trade_goods = copper
					trade_goods = plumbum
					trade_goods = munitions
					trade_goods = minerals
					trade_goods = zinc
					trade_goods = tin
					trade_goods = gold
					trade_goods = mercury
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_weapons_not_institution_continent
				has_building = weapons
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = silk
					trade_goods = cloth
					trade_goods = carpet
					trade_goods = wool
					trade_goods = dyes
					trade_goods = hemp
					trade_goods = leather
					trade_goods = paper
					trade_goods = cotton
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_textile_not_institution_continent
				has_building = textile
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = sugar
					trade_goods = tobacco
					trade_goods = vegetables
					trade_goods = coffee
					trade_goods = tea
					trade_goods = dates
					trade_goods = peaches	
					trade_goods = bananas
					trade_goods = olive
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_plantations_not_institution_continent
				has_building = plantations
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = gems
					trade_goods = glass
					trade_goods = chinaware
					trade_goods = marble
					trade_goods = pepper
					trade_goods = spices
					trade_goods = incense
					trade_goods = ivory
					trade_goods = fur
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_tradecompany_not_institution_continent
				has_building = tradecompany
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = horses
					trade_goods = livestock
					trade_goods = pigs
					trade_goods = venison
					trade_goods = camels
					trade_goods = honey
					trade_goods = cheese
					trade_goods = oil
				}
				manufactories_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_farm_estate_not_institution_continent
				has_building = farm_estate
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			potential = {
				OR = {
					trade_goods = grain
					trade_goods = barley
					trade_goods = rye
					trade_goods = rice
					trade_goods = corn
					trade_goods = lumber
					trade_goods = wine
					trade_goods = beer
					trade_goods = spirits
				}
				manufactories_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_mills_not_institution_continent
				has_building = mills
			}
		}
		modifier = {
			factor = 3
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_manufactories
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = manufactories }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = manufactories
				}
				continent = owner
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_manufactories_embraced
				owner = {
					has_institution = manufactories
				}
			}
		}
		modifier = {
			factor = 1
			scale = yes
			potential = {
				owner = {
					has_institution = manufactories
				}
				NOT = { continent = owner }
			}
			
			custom_trigger_tooltip = {
				tooltip = tooltip_manufactories_embraced_other_continent
				is_owned_by_trade_company = no
				owner = {
					has_institution = manufactories
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}



#######################################
# Enlightenment
#######################################
enlightenment = {

	bonus = {
		culture_conversion_cost = -0.25
	}

	trade_company_efficiency = 1.6
	historical_start_date = 1700.1.1
	historical_start_province = 2268 #London

	history = {
		OR = {
			AND = {
				is_year = 1700
				continent = europe
				owner = { technology_group = western }
			}
			
			AND = {
				is_year = 1730
				continent = europe
			}
		}
	}
	
	can_start = {
		is_year = 1700
		is_institution_enabled = manufactories
		is_in_capital_area = yes
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		printing_press = 100
		global_trade = 100
		development = 30
		OR = {
			custom_trigger_tooltip = {
				tooltip = tooltip_has_seat_in_parliament
				has_seat_in_parliament = yes
			}
			has_building = university
			AND = {
				continent = europe
				owner = {
					ADM = 5
					MIL = 5
					DIP = 5
				}
			}
			
		}
	}
	start_chance = 10		#in 100 for when a province can_start
	
	
	on_start = institution_events.7
	
	
	can_embrace = {
		always = yes
	}

	
	embracement_speed = {
		modifier = {
			factor = 0.4
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_enlightenment
				any_friendly_coast_border_province = {
					enlightenment = 100
				}
			}
		}
		modifier = {
			factor = 0.2
			scale = yes
			
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_enlightenment
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					enlightenment = 100
				}
			}
		}
		modifier = {
			factor = 0.5
			potential = {
				is_capital = yes
			}
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_with_worse_tech_has_embraced_enlightenment
				owner = {
					any_neighbor_country = {
						has_institution = enlightenment
						NOT = { tech_difference = 0 }
					}
				}
			}
		}
		modifier = {
			factor = 0.4
			potential = {
				enlightenment_origin = {
					same_continent = PREV
				}
			}
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_university_on_institution_continent
				has_building = university
			}
		}
		modifier = {
			factor = 0.1
			potential = {
				enlightenment_origin = {
					NOT = { same_continent = PREV }
				}
			}
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_university_not_institution_continent
				has_building = university
			}
		}
		modifier = {
			factor = 0.4
			potential = {
				owner = {
					has_parliament = yes
				}
			}
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_has_seat_in_parliament_on_institution_continent
				has_seat_in_parliament = yes
				enlightenment_origin = {
					same_continent = PREV
				}
			}
		}
		modifier = {
			factor = 0.5
			potential = {
				owner = {
					has_parliament = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_has_seat_in_parliament_not_institution_continent
				has_seat_in_parliament = yes
				enlightenment_origin = {
					NOT = { same_continent = PREV }
				}
			}
		}
		modifier = {
			factor = 1.5
			potential = {
				enlightenment_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_philosopher_capital
				is_capital = yes
				owner = {
					advisor = philosopher
					dip_tech = 55
				}
			}
		}
		modifier = {
			factor = 0.5
			potential = {
				enlightenment_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_philosopher_capital
				is_capital = yes
				owner = {
					advisor = philosopher
					dip_tech = 55
				}
			}
		}
		modifier = {
			factor = 3
			potential = {
				enlightenment_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_scientist_capital
				is_capital = yes
				owner = {
					advisor = natural_scientist
					dip_tech = 55
				}
			}
		}
		modifier = {
			factor = 1
			potential = {
				enlightenment_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_scientist_capital
				is_capital = yes
				owner = {
					advisor = natural_scientist
					dip_tech = 55
				}
			}
		}
		modifier = {
			factor = 5
			potential = {
				enlightenment_origin = {
					same_continent = PREV
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_full_innovativeness
				is_capital = yes
				owner = {
					full_idea_group = innovativeness_ideas
				}
			}
		}
		modifier = {
			factor = 2
			potential = {
				enlightenment_origin = {
					NOT = { same_continent = PREV }
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_full_innovativeness
				is_capital = yes
				owner = {
					full_idea_group = innovativeness_ideas
				}
			}
		}
		modifier = {
			factor = 3
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_enlightenment
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = enlightenment }
				}
			}
		}
		modifier = {
			factor = 1.5
			scale = yes
			potential = {
				owner = {
					has_institution = enlightenment
				}
				continent = owner
			}
			
			custom_trigger_tooltip = {
				tooltip = tooltip_enlightenment_embraced
				is_owned_by_trade_company = no
				owner = {
					has_institution = enlightenment
				}
			}
		}
		modifier = {
			factor = 0.75
			scale = yes
			potential = {
				owner = {
					has_institution = enlightenment
				}
				NOT = { continent = owner }
			}
			
			custom_trigger_tooltip = {
				tooltip = tooltip_enlightenment_embraced_other_continent
				is_owned_by_trade_company = no
				owner = {
					has_institution = enlightenment
				}
			}
		}
	}
	
	ai_will_do = {
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Industrialism
# 
#######################################

industrialism = {

	bonus = {
		production_efficiency = 0.25
		build_time = -0.25
	}

	trade_company_efficiency = 1.8
	historical_start_date = 1750.1.1
	historical_start_province = 1132 #Liverpool

	history = {
		OR = {
			AND = {
				is_year = 1750
				continent = europe
				owner = { technology_group = western }
			}
			
			AND = {
				is_year = 1800
				continent = europe
			}
		}
	}

	can_start = {
		is_year = 1750
		is_institution_enabled = enlightenment
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		manufactories = 100
		enlightenment = 100
		OR = {
			development = 15
			is_capital = yes
		}
		if = {
			limit = {
				has_dlc = "Rule Britannia"
				NOT = { is_year = 1780 }
			}
			owner = {
				OR = {
					production_leader = {
						trade_goods = steel
					}
					production_leader = {
						trade_goods = cloth
					}
					production_leader = {
						trade_goods = coal
					}
					num_of_trading_bonuses = 3
					is_year = 1770 #fallback
				}
			}
			OR = {
				highest_value_trade_node = yes
				is_year = 1760 #fallback
			}
		}
		else = {
			OR = {
				has_building = weapons
				has_building = textile
			}
			owner = {
				OR = {
					production_leader = {
						trade_goods = iron
					}
					production_leader = {
						trade_goods = cloth
					}
					num_of_trading_bonuses = 3
					is_year = 1770 #fallback
				}
			}
			OR = {
				highest_value_trade_node = yes
				is_year = 1760 #fallback
			}
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.79
	
	can_embrace = {
		owner = { has_institution = enlightenment }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_industrialism
				any_friendly_coast_border_province = {
					industrialism = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_industrialism
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					industrialism = 100
				}
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_10
				continent = europe
				development = 10
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_20
				development = 20
				continent = europe
			}
		}
		modifier = {
			factor = 0.5
			scale = yes
			num_free_building_slots = 1
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_industrialism
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = industrialism }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = industrialism
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_industrialism_embraced
				owner = {
					has_institution = industrialism
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}

#######################################
# Liberalism
# 
#######################################

liberalism = {

	bonus = {
		num_accepted_cultures = 1
		tolerance_heretic = 1
	}

	trade_company_efficiency = 2.0
	historical_start_date = 1800.1.1
	historical_start_province = 1236 #Madrid

	history = {
		OR = {
			AND = {
				is_year = 1800
				continent = europe
				owner = {
					government = republic
					technology_group = western
				}
			}
			AND = {
				is_year = 1850
				continent = europe
				owner = { technology_group = western }
			}
			AND = {
				is_year = 1865
				continent = europe
			}
		}
	}

	can_start = {
		is_year = 1800
		is_institution_enabled = industrialism
		OR = {
			is_island = no
			province_id = 112
		}
		is_state = yes
		OR = {
			development = 15
			is_capital = yes
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.83
	
	can_embrace = {
		owner = { has_institution = industrialism }
	}

	embracement_speed = {
		modifier = {
			scale = yes
			factor = 0.5
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_liberalism
				any_friendly_coast_border_province = {
					liberalism = 100
				}
			}
		}
		modifier = {
			factor = 0.3
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_liberalism
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					liberalism = 100
				}
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_10
				continent = europe
				development = 10
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				continent = europe
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_development_20
				development = 20
				continent = europe
			}
		}
		modifier = {
			factor = 0.5
			scale = yes
			potential = { continent = europe }
			owner = { government = republic }
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_liberalism
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = liberalism }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = liberalism
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_industrialism_embraced
				owner = {
					has_institution = liberalism
				}
			}
		}
	}

	ai_will_do = { 
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.1
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.2
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.3
		}
		modifier = {
			factor = 2
			neighbors_tech_discount = 0.4
		}
	}
}